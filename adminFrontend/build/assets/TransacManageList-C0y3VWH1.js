import{r as o,j as e}from"./index-DaKUt_DV.js";import{a as i}from"./index-BDD5Wvo_.js";import{F as j,g}from"./index-DDtXgTNU.js";import{C as f,a as u}from"./CCardBody-4OFbAYXQ.js";import{C,a as T,b as D,c as d,d as s,e as w,f as t}from"./CTable-CGk0PLLg.js";import"./axios-DNDjIgWp.js";const S=()=>{const[n,c]=o.useState([]),[h,x]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const r=await i.get("https://www.panel.efe-travel.com/api/TransacManageData"),p=r.data.transactions.map(l=>({...l,createdAt:new Date(l.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}));c(p),console.log(r.data)}catch(r){console.error("Error fetching transac manage data:",r.response||r.message)}finally{x(!1)}})()},[]);const m=async a=>{try{await i.delete(`https://www.panel.efe-travel.com/api/TransacManageData/${a}`),c(n.filter(r=>r._id!==a))}catch(r){console.error("Error deleting transac manage:",r)}};return e.jsxs(f,{children:[e.jsx(C,{children:e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("h1",{style:{fontSize:"24px",color:"green"},children:"Transaction Management"})})}),e.jsx(u,{children:h?e.jsx("div",{children:"Loading..."}):n.length===0?e.jsx("div",{children:"No transactions found."}):e.jsxs(T,{striped:!0,hover:!0,bordered:!0,responsive:!0,children:[e.jsx(D,{color:"dark",children:e.jsxs(d,{children:[e.jsx(s,{scope:"col",children:"Transaction ID"}),e.jsx(s,{scope:"col",children:"Email"}),e.jsx(s,{scope:"col",children:"Amount"}),e.jsx(s,{scope:"col",children:"Date"}),e.jsx(s,{scope:"col",children:"Status"}),e.jsx(s,{scope:"col",children:"Actions"})]})}),e.jsx(w,{children:n.map(a=>e.jsxs(d,{children:[e.jsx(t,{children:a.transactionId}),e.jsx(t,{children:a.email}),e.jsx(t,{children:a.amount}),e.jsx(t,{children:a.createdAt}),e.jsx(t,{children:a.status}),e.jsx(t,{children:e.jsx(j,{icon:g,style:{color:"#bb1616",cursor:"pointer"},onClick:()=>m(a._id)})})]},a._id))})]})})]})};export{S as default};
